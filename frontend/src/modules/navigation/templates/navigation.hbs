<div class="navigation-bg"></div>
<div class="navigation-inner clearfix">
  <div class="navigation-left">
    {{#if isAuthenticated}}
    <a href="#" class="navigation-item navigation-global-menu" data-event="globalMenu:toggle">
      {{!-- <i class="fa fa-bars"></i> --}}
      <div id="global-menu-icon">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </a>
    <div href="#" class="navigation-item navigation-product-name">{{t 'app.productname'}}</div>
    {{/if}}
  </div>
  <div class="navigation-right">
    {{#if isAuthenticated}}
    <a href="#" class="navigation-item navigation-help" onclick="togglelang();">
      <span id="langspot">English</span>
    </a>
    <a href="#" class="navigation-item navigation-profile" data-event="user:profile">
      {{t 'app.loggedinas'}}: <span>{{email}}</span>
    </a>
    <a href="#" class="navigation-item navigation-user-logout btn white-hollow" data-event="user:logout">
      <span>{{t 'app.logout'}}</span>
    </a>
    {{/if}}
  </div>
</div>

<script type="text/javascript">
  var currlang = localStorage.getItem("lang");
  var langlabel = document.getElementById("langspot");

if( document.readyState !== 'loading' ) {
    defcurrlang();
} else {
    document.addEventListener('DOMContentLoaded', function () {
        
        defcurrlang();
    });
}

function defcurrlang ()  {
  if(langlabel == null){
    //do nothing
  }else{
      if(currlang == "fr"){
        document.getElementById("langspot").innerHTML = "English";
        document.querySelector("html").setAttribute('lang', 'fr');
       }else{
        document.getElementById("langspot").innerHTML = "Fran√ßais (Alpha)";
        document.querySelector("html").setAttribute('lang', 'en');
      }
  }
}

  function togglelang () {
    if(currlang == 'en'){
      localStorage.setItem('lang', 'fr');
      location.reload();
    } else {
      localStorage.setItem('lang', 'en');
      location.reload();
    }
  }
 </script>
